import{jsx as e,Fragment as i,jsxs as t}from"react/jsx-runtime";import{getActorContext as r,translate as o,defaultFormFieldOptions as n,censorPhoneNumber as s,censorAllButFirstAndLast as a}from"@aws-amplify/ui";import{Flex as m}from"../../../primitives/Flex/Flex.js";import{Heading as d}from"../../../primitives/Heading/Heading.js";import{Radio as l}from"../../../primitives/Radio/Radio.js";import{RadioGroupField as c}from"../../../primitives/RadioGroupField/RadioGroupField.js";import{useAuthenticator as u}from"../hooks/useAuthenticator/index.js";import{useCustomComponents as f}from"../hooks/useCustomComponents/index.js";import{useFormHandlers as p}from"../hooks/useFormHandlers/useFormHandlers.js";import{RemoteErrorMessage as h}from"../shared/RemoteErrorMessage.js";import{TwoButtonSubmitFooter as b}from"../shared/TwoButtonSubmitFooter.js";import{RouteContainer as j}from"../RouteContainer/RouteContainer.js";const g=(e,i)=>{const t=o(e);let r=i;if("Phone Number"===e)r=s(i);else if("Email"===e){const e=i.split("@");r=`${a(e[0])}@${e[1]}`}return`${t}: ${r}`},v=i=>{const t=[];for(const[r,o]of Object.entries(i)){const i=e(l,Object.assign({name:"unverifiedAttr",value:r},{children:g(n[r].label,o)}),r);t.push(i)}return t},y=({className:n,variation:s})=>{const{components:{VerifyUser:{Header:a=y.Header,Footer:d=y.Footer}}}=f(),{_state:l,isPending:g}=u((e=>[e.isPending])),{handleChange:F,handleSubmit:x}=p(),H=r(l),C=e(i,g?{children:"Verifyingâ€¦"}:{children:o("Verify")}),O=e(c,Object.assign({label:o("Verify Contact"),labelHidden:!0,name:"verify_context",isDisabled:g},{children:v(H.unverifiedAttributes)}));return e(j,Object.assign({className:n,variation:s},{children:e("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:F,onSubmit:x},{children:t(m,Object.assign({as:"fieldset",direction:"column",isDisabled:g},{children:[e(a,{}),O,e(h,{}),e(b,{cancelButtonText:o("Skip"),cancelButtonSendType:"SKIP",submitButtonText:C}),e(d,{})]}))}))}))};y.Header=()=>e(d,Object.assign({level:3},{children:o("Account recovery requires verified contact information")})),y.Footer=()=>null;export{y as VerifyUser};
